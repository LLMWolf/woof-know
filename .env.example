# ==========================================
# WOOF-KNOW (СПРИ) — .env.example
# Скопируйте как .env и при необходимости измените значения.
# Все времена — UTC, пути относительные к корню проекта, если не указано иное.
# ==========================================

# ---- СЕТЬ / ПОРТЫ ----
SPREE_HOST=0.0.0.0
SPREE_PORT=8080
# Публичный базовый URL (для прокси/редиректов в UI/доках)
SPREE_BASE_URL=http://localhost:8080

# ---- LLM / OLLAMA ----
# URL локального рантайма Ollama
OLLAMA_HOST=127.0.0.1
OLLAMA_PORT=11434
OLLAMA_BASE_URL=http://127.0.0.1:11434
# Модель по умолчанию
LLM_PROVIDER=ollama
LLM_MODEL=llama3.1:8b
LLM_TEMPERATURE=0.2
LLM_TIMEOUT_S=60
LLM_RETRIES_MAX=3
LLM_RETRY_BACKOFF_INITIAL_S=0.5
LLM_RETRY_BACKOFF_MAX_S=6

# ---- PRIVACY ----
PRIVACY_PROFILE=strict_local   # strict_local | hybrid | cloud_ok
PRIVACY_KILL_SWITCH=false      # true = блокировать любые внешние вызовы

# ---- LIMITS / RATE LIMIT ----
RATE_PER_MIN=100
RETRIEVER_K=10
RETRIEVER_THRESHOLD=0.8
MAX_TOKENS=1024

# ---- ХРАНИЛИЩЕ (SQLite/FS) ----
DATA_DIR=./data
BACKUPS_DIR=./backup
SQLITE_DB_PATH=./data/spree.sqlite
SQLITE_JOURNAL_MODE=WAL        # WAL | DELETE
SQLITE_SYNCHRONOUS=NORMAL      # OFF | NORMAL | FULL

# ---- OBSERVABILITY ----
OTEL_ENABLED=true
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
LOG_RETENTION_DAYS=90

# ---- SECURITY / AUTH ----
AUTH_MODE=bearer               # none | bearer | oidc
# Для bearer-режима JWT можно указать здесь
SPREE_TOKEN=
# Параметры OIDC (если AUTH_MODE=oidc)
OIDC_ISSUER=
OIDC_AUTHORIZATION_ENDPOINT=
OIDC_TOKEN_ENDPOINT=
OIDC_CLIENT_ID=

# ---- СЕМПЛЫ / ДЕМОДАННЫЕ ----
SAMPLE_DATA_DIR=./sample-data

# ---- KPI SMOKE (умолчания для скрипта) ----
SPREE_QUERY=Каковы KPI MVP?
SPREE_K=10
SPREE_THRESHOLD=0.8
SPREE_N=20
SPREE_WARMUP=3
SPREE_CSV=

# ---- DOCKER / COMPOSE (поддержка) ----
COMPOSE_PROJECT_NAME=spree
API_IMAGE=spree/api:dev

# Конец файла
